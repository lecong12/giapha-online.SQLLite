<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gia Ph·∫£ Online - Qu·∫£n l√Ω gia ƒë√¨nh hi·ªán ƒë·∫°i</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../style/style.css">
</head>
<body class="auth-page">
    <div class="background-animation">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        <div class="floating-shape shape-4"></div>
    </div>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <div class="logo-circle">
                    <i class="fas fa-sitemap"></i>
                </div>
                <h1 class="auth-title">Gia Ph·∫£ Online</h1>
                <p class="auth-subtitle">Qu·∫£n l√Ω gia ƒë√¨nh m·ªôt c√°ch hi·ªán ƒë·∫°i</p>
            </div>

            <!-- LOGIN FORM -->
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label>ƒêƒÉng nh·∫≠p v·ªõi vai tr√≤:</label>
                    <select id="loginRole" required>
                        <option value="owner">Admin</option>
                        <option value="viewer">Viewer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-code"></i> Viewer Code </label>
                    <input type="text" id="viewercode" name="viewer_code">
                </div>
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Email</label>
                    <input type="text" id="loginUsername" name="email" placeholder="Email only for admin" required>
                </div>
                <div class="form-group password-group">
    <label><i class="fas fa-lock"></i> M·∫≠t kh·∫©u <span id="passwordLabel">(Admin/Viewer)</span></label>
    <input type="password" id="loginPassword" name="password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
                    <button type="button" class="toggle-password" onclick="togglePassword('loginPassword')" tabindex="-1">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <p class="error-message" id="loginError"></p>
                <button type="button" class="btn-primary" onclick="handleLogin()">
                    <span class="btn-text">ƒêƒÉng Nh·∫≠p</span>
                    <span class="btn-loader"><i class="fas fa-spinner fa-spin"></i></span>
                </button>
            </form>

            <!-- REGISTER FORM (ch·ªâ email + password) -->
            <form id="registerForm" class="auth-form hidden">
                <div class="form-group">
                    <label><i class="fas fa-user"></i> H·ªç v√† T√™n</label>
                    <input type="text" id="registerFullname" placeholder="Nguy·ªÖn VƒÉn A" required>
                </div>
                <div class="form-group">
                    <label><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="registerEmail" placeholder="admin@example.com" required>
                </div>
                <div class="form-group password-group">
                    <label><i class="fas fa-lock"></i> M·∫≠t kh·∫©u</label>
                    <input type="password" id="registerPassword" placeholder="*********" required minlength="6">
                    <button type="button" class="toggle-password" onclick="togglePassword('registerPassword')" tabindex="-1">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <div class="form-group password-group">
                    <label><i class="fas fa-lock"></i> Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label>
                    <input type="password" id="registerConfirmPassword" placeholder="*********" required>
                    <button type="button" class="toggle-password" onclick="togglePassword('registerConfirmPassword')" tabindex="-1">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
                <p class="error-message" id="registerError"></p>
                <p class="success-message" id="registerSuccess" style="display:none;"></p>
                <button type="submit" class="btn-primary">
                    <span class="btn-text">ƒêƒÉng K√Ω Admin</span>
                    <span class="btn-loader"><i class="fas fa-spinner fa-spin"></i></span>
                </button>
            </form>
<div id="viewerForm" class="auth-form" style="display: none;">
    <h2>üîç ƒêƒÉng Nh·∫≠p Viewer</h2>
    <div class="form-group">
        <label>M√£ Viewer</label>
        <input type="text" id="viewerCode" placeholder="Nh·∫≠p m√£ 10 k√Ω t·ª±" required maxlength="15">
    </div>
    <div class="form-group">
        <label>M·∫≠t Kh·∫©u</label>
        <div class="password-wrapper">
            <input type="password" id="viewerPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
            <button type="button" class="toggle-password" onclick="togglePassword('viewerPassword')">
                <i class="fas fa-eye"></i>
            </button>
        </div>
    </div>
    <button class="btn-primary" onclick="handleLogin()">ƒêƒÉng nh·∫≠p</button>
</div>
            <div class="auth-toggle">
                <p id="toggleText">Ch∆∞a c√≥ t√†i kho·∫£n?</p>
                <button type="button" id="toggleBtn" class="link-btn">ƒêƒÉng K√Ω</button>
            </div>            
        </div>
    </div>
    <script src="../components/auth.js" defer></script>
</body>
</html>